# ğŸ—ï¸ å­¦æ ¡ã ã‚ˆã‚ŠAI ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸

**æŠ€è¡“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ»APIè¨­è¨ˆãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆçµ±åˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**

---

## ğŸ¯ ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å­¦æ ¡ã ã‚ˆã‚ŠAI ã‚·ã‚¹ãƒ†ãƒ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Frontend (Flutter Web)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   éŸ³å£°å…¥åŠ›UI    â”‚   ã‚¨ãƒ‡ã‚£ã‚¿UI    â”‚   PDFå‡ºåŠ›UI     â”‚    â”‚
â”‚  â”‚  - éŒ²éŸ³ãƒœã‚¿ãƒ³   â”‚  - Quill.js     â”‚  - ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼   â”‚    â”‚
â”‚  â”‚  - æ³¢å½¢è¡¨ç¤º     â”‚  - å­£ç¯€ãƒ†ãƒ¼ãƒ   â”‚  - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“ HTTPS API                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Backend (FastAPI)                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   éŸ³å£°å‡¦ç†      â”‚   AIæ–‡ç« ç”Ÿæˆ    â”‚   PDFç”Ÿæˆ       â”‚    â”‚
â”‚  â”‚  - STT API      â”‚  - Gemini Pro   â”‚  - WeasyPrint   â”‚    â”‚
â”‚  â”‚  - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸ â”‚  - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ   â”‚  - æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆâ”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                           â†“                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Google Cloud Platform                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Vertex AI     â”‚   Firebase      â”‚   Cloud Storage â”‚    â”‚
â”‚  â”‚  - Gemini 1.5   â”‚  - Auth         â”‚  - ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ â”‚    â”‚
â”‚  â”‚  - Speech-to-   â”‚  - Firestore    â”‚  - æœˆåˆ¥ç®¡ç†     â”‚    â”‚
â”‚  â”‚    Text         â”‚  - Storage      â”‚                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Flutter Web 3.32.2** - ãƒ¡ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Quill.js** - ãƒªãƒƒãƒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿
- **Web Audio API** - éŸ³å£°éŒ²éŸ³æ©Ÿèƒ½
- **Material Design 3** - UI/UXãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **FastAPI** - Python Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Uvicorn** - ASGI ã‚µãƒ¼ãƒãƒ¼
- **WeasyPrint** - PDFç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³
- **Pydantic** - ãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

### Google Cloud Platform
- **Vertex AI Gemini 1.5 Pro** - AIæ–‡ç« ç”Ÿæˆ
- **Speech-to-Text API** - éŸ³å£°èªè­˜
- **Firebase Authentication** - ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼
- **Firestore** - NoSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **Firebase Storage** - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

---

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

### Firestore ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ§‹é€ 

```javascript
// users ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
users/{userId} {
  email: string,
  displayName: string,
  schoolName: string,
  className: string,
  createdAt: timestamp,
  lastLoginAt: timestamp,
  preferences: {
    defaultTheme: string, // 'spring' | 'summer' | 'autumn' | 'winter'
    voiceSettings: {
      language: string,
      sampleRate: number
    }
  }
}

// newsletters ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³  
newsletters/{newsletterId} {
  userId: string,
  title: string,
  content: {
    deltaJson: object,    // Quill.js Deltaå½¢å¼
    htmlContent: string,  // HTMLå½¢å¼
    plainText: string     // ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
  },
  metadata: {
    theme: string,
    createdAt: timestamp,
    updatedAt: timestamp,
    wordCount: number,
    estimatedReadingTime: number
  },
  status: string, // 'draft' | 'published' | 'archived'
  pdfUrl?: string,
  shareSettings: {
    isPublic: boolean,
    allowComments: boolean
  }
}

// user_dictionaries ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³
user_dictionaries/{userId} {
  customTerms: {
    [termName]: {
      reading: string,
      category: string, // 'student_name' | 'school_term' | 'custom'
      frequency: number,
      lastUsed: timestamp
    }
  },
  defaultTerms: object, // 153èªã®å­¦æ ¡ç”¨èªè¾æ›¸
  statistics: {
    totalTerms: number,
    mostUsedTerms: array,
    recognitionAccuracy: number
  }
}

// voice_recordings ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆä¸€æ™‚ä¿å­˜ï¼‰
voice_recordings/{recordingId} {
  userId: string,
  audioData: string, // Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
  duration: number,
  createdAt: timestamp,
  transcription?: {
    text: string,
    confidence: number,
    language: string
  },
  status: string, // 'processing' | 'completed' | 'error'
  expiresAt: timestamp // 24æ™‚é–“å¾Œã«è‡ªå‹•å‰Šé™¤
}
```

---

## ğŸ”Œ APIè¨­è¨ˆ

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

#### éŸ³å£°å‡¦ç†API
```http
POST /api/v1/speech/transcribe
Content-Type: multipart/form-data

# ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
{
  "audio_file": File,
  "user_id": string,
  "language": string,
  "use_user_dictionary": boolean
}

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  "transcription": string,
  "confidence": number,
  "processing_time": number,
  "user_dictionary_matches": array
}
```

#### AIæ–‡ç« ç”ŸæˆAPI
```http
POST /api/v1/ai/generate
Content-Type: application/json

# ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
{
  "input_text": string,
  "user_id": string,
  "generation_type": string, // 'newsletter' | 'rewrite' | 'expand'
  "custom_instructions": string,
  "theme": string
}

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  "generated_content": {
    "title": string,
    "content": string,
    "html_content": string,
    "delta_json": object
  },
  "metadata": {
    "word_count": number,
    "generation_time": number,
    "theme_applied": string
  }
}
```

#### PDFç”ŸæˆAPI
```http
POST /api/v1/pdf/generate
Content-Type: application/json

# ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
{
  "html_content": string,
  "theme": string,
  "options": {
    "page_size": string, // 'A4' | 'A3' | 'Letter'
    "orientation": string, // 'portrait' | 'landscape'
    "include_header": boolean,
    "include_footer": boolean
  }
}

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹
{
  "pdf_data": string, // Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
  "file_size": number,
  "generation_time": number,
  "download_url": string
}
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸API
```http
# è¾æ›¸å–å¾—
GET /api/v1/dictionary/{user_id}

# ç”¨èªè¿½åŠ 
POST /api/v1/dictionary/{user_id}/terms
{
  "term": string,
  "reading": string,
  "category": string
}

# ç”¨èªæ›´æ–°
PUT /api/v1/dictionary/{user_id}/terms/{term_name}
{
  "reading": string,
  "category": string
}

# ç”¨èªå‰Šé™¤
DELETE /api/v1/dictionary/{user_id}/terms/{term_name}
```

---

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### èªè¨¼ãƒ»èªå¯

```javascript
// Firebase Authentication
- Google OAuth 2.0
- ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼
- JWT ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼

// APIèªè¨¼ãƒ•ãƒ­ãƒ¼
1. Frontend: Firebase Auth ã§ãƒ­ã‚°ã‚¤ãƒ³
2. Frontend: ID Tokenå–å¾—
3. Backend: Firebase Admin SDK ã§ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
4. Backend: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—ãƒ»èªå¯ãƒã‚§ãƒƒã‚¯
```

### ãƒ‡ãƒ¼ã‚¿ä¿è­·

```javascript
// Firestore ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // å­¦ç´šé€šä¿¡ã¯ä½œæˆè€…ã®ã¿ç·¨é›†å¯èƒ½
    match /newsletters/{newsletterId} {
      allow read: if resource.data.shareSettings.isPublic == true 
                  || request.auth.uid == resource.data.userId;
      allow write: if request.auth != null && request.auth.uid == resource.data.userId;
    }
    
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼è¾æ›¸ã¯æœ¬äººã®ã¿ã‚¢ã‚¯ã‚»ã‚¹
    match /user_dictionaries/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

### API ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

```python
# FastAPI ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
from fastapi.security import HTTPBearer
from firebase_admin import auth

security = HTTPBearer()

async def verify_firebase_token(token: str = Depends(security)):
    try:
        decoded_token = auth.verify_id_token(token.credentials)
        return decoded_token
    except Exception:
        raise HTTPException(status_code=401, detail="Invalid authentication")

# CORSè¨­å®š
app.add_middleware(
    CORSMiddleware,
    allow_origins=["https://yutori-kyoshitu.web.app"],
    allow_credentials=True,
    allow_methods=["GET", "POST", "PUT", "DELETE"],
    allow_headers=["*"],
)
```

---

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆ

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æœ€é©åŒ–

```dart
// Flutter Webæœ€é©åŒ–
- Tree Shaking: æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰è‡ªå‹•å‰Šé™¤
- Code Splitting: æ©Ÿèƒ½åˆ¥ãƒãƒ³ãƒ‰ãƒ«åˆ†å‰²
- Lazy Loading: ç”»é¢é·ç§»æ™‚ã®é…å»¶èª­ã¿è¾¼ã¿
- Service Worker: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥

// Quill.jsæœ€é©åŒ–
- Deltaå½¢å¼ã§ã®è»½é‡ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- ä»®æƒ³ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«: å¤§é‡ãƒ†ã‚­ã‚¹ãƒˆå¯¾å¿œ
- ãƒ‡ãƒã‚¦ãƒ³ã‚¹: è‡ªå‹•ä¿å­˜ã®æœ€é©åŒ–
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æœ€é©åŒ–

```python
# FastAPIæœ€é©åŒ–
- éåŒæœŸå‡¦ç†: async/awaitä½¿ç”¨
- æ¥ç¶šãƒ—ãƒ¼ãƒ«: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæœ€é©åŒ–
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥: Redisä½¿ç”¨ï¼ˆå°†æ¥æ‹¡å¼µï¼‰
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹åœ§ç¸®: gzipæœ‰åŠ¹åŒ–

# AI APIæœ€é©åŒ–
- ãƒãƒƒãƒå‡¦ç†: è¤‡æ•°ãƒªã‚¯ã‚¨ã‚¹ãƒˆåŒæ™‚å‡¦ç†
- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç”Ÿæˆçµæœé…ä¿¡
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š: 30ç§’åˆ¶é™
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–

```javascript
// Firestoreæœ€é©åŒ–
- è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹: ã‚¯ã‚¨ãƒªé«˜é€ŸåŒ–
- ãƒ‡ãƒ¼ã‚¿åˆ†å‰²: å¤§ããªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®åˆ†å‰²
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- ã‚ªãƒ•ãƒ©ã‚¤ãƒ³åŒæœŸ: è‡ªå‹•åŒæœŸæ©Ÿèƒ½

// ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ
newsletters: [
  { fields: ['userId', 'createdAt'], order: 'desc' },
  { fields: ['status', 'updatedAt'], order: 'desc' },
  { fields: ['theme', 'createdAt'], order: 'desc' }
]
```

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤è¨­è¨ˆ

### CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

```yaml
# GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
name: ğŸš€ å­¦æ ¡ã ã‚ˆã‚ŠAI CI/CD

on:
  push:
    branches: [main, develop]
    paths-ignore: ['docs/**', '*.md']

jobs:
  test:
    - Flutter analyze & test
    - Python flake8 & pytest
    - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
    
  deploy-staging:
    - Firebase Hosting (staging)
    - Cloud Run (staging)
    
  deploy-production:
    - Firebase Hosting (production)
    - Cloud Run (production)
    - ãƒªãƒªãƒ¼ã‚¹ã‚¿ã‚°ä½œæˆ
```

### ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ

```yaml
# æœ¬ç•ªç’°å¢ƒ
Production:
  Frontend: Firebase Hosting
  Backend: Cloud Run (asia-northeast1)
  Database: Firestore (asia-northeast1)
  Storage: Firebase Storage
  CDN: Firebase Hosting CDN
  
# ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒ  
Staging:
  Frontend: Firebase Hosting (staging channel)
  Backend: Cloud Run (staging)
  Database: Firestore (staging project)
```

---

## ğŸ“Š ç›£è¦–ãƒ»ãƒ­ã‚°è¨­è¨ˆ

### ãƒ­ã‚°è¨­è¨ˆ

```python
# æ§‹é€ åŒ–ãƒ­ã‚°
import structlog

logger = structlog.get_logger()

# APIå‘¼ã³å‡ºã—ãƒ­ã‚°
logger.info(
    "api_request",
    endpoint="/api/v1/ai/generate",
    user_id=user_id,
    processing_time=0.85,
    status="success"
)

# ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
logger.error(
    "ai_generation_failed",
    user_id=user_id,
    error_type="timeout",
    input_length=1500,
    retry_count=2
)
```

### ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–

```javascript
// Google Cloud Monitoring
- API ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“
- ã‚¨ãƒ©ãƒ¼ç‡
- åŒæ™‚æ¥ç¶šæ•°
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èª­ã¿æ›¸ãå›æ•°
- AI APIä½¿ç”¨é‡ãƒ»ã‚³ã‚¹ãƒˆ

// Firebase Analytics
- ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ
- æ©Ÿèƒ½ä½¿ç”¨ç‡
- é›¢è„±ãƒã‚¤ãƒ³ãƒˆåˆ†æ
```

---

## ğŸ”„ å°†æ¥æ‹¡å¼µè¨­è¨ˆ

### ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£

```yaml
# æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¯¾å¿œ
- Cloud Run: è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚° (0-100ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹)
- Firestore: è‡ªå‹•ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- Firebase Storage: ç„¡åˆ¶é™ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

# è² è·åˆ†æ•£
- Cloud Load Balancer
- CDN ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹èª­ã¿å–ã‚Šãƒ¬ãƒ—ãƒªã‚«
```

### æ©Ÿèƒ½æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ

```javascript
// äºˆå®šã•ã‚Œã¦ã„ã‚‹æ‹¡å¼µæ©Ÿèƒ½
1. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å…±åŒç·¨é›† (WebSocket)
2. éŸ³å£°åˆæˆ (Text-to-Speech)
3. ç”»åƒç”Ÿæˆ (Imagen API)
4. å¤šè¨€èªå¯¾å¿œ (Translation API)
5. ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒª (Flutter iOS/Android)
```

---

## ğŸ“ æŠ€è¡“ã‚µãƒãƒ¼ãƒˆ

### é–‹ç™ºç’°å¢ƒ
- **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º**: [é–‹ç™ºã‚¬ã‚¤ãƒ‰](development_guide.md)å‚ç…§
- **ãƒ‡ãƒãƒƒã‚°**: Chrome DevTools + Flutter Inspector
- **ãƒ†ã‚¹ãƒˆ**: å˜ä½“ãƒ»çµ±åˆãƒ»E2Eãƒ†ã‚¹ãƒˆå®Œå‚™

### æœ¬ç•ªç’°å¢ƒ
- **ç›£è¦–**: Google Cloud Monitoring
- **ãƒ­ã‚°**: Cloud Logging
- **ã‚¢ãƒ©ãƒ¼ãƒˆ**: Slacké€šçŸ¥é€£æº

---

**ğŸ—ï¸ è¨­è¨ˆæ€æƒ³: é«˜å“è³ªãƒ»é«˜ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»é«˜å¯ç”¨æ€§ã‚’å®Ÿç¾ã™ã‚‹å­¦ç´šé€šä¿¡ã‚·ã‚¹ãƒ†ãƒ ï¼** 